---
title: "나트륨이 아닙니다, 소듐입니다."
date: 2025-12-14T23:18:05+09:00
author: snowmerak
tags: ["libsodium", "memory", "network", "security"]
categories: ["Information"]
draft: true
---

## 소듐이요?

### 사족

저랑 비슷한 시기에 정규 교육을 나오신 분들은 나트륨이 더 익숙할 Na는 이제 소듐이 되었습니다. 저랑 같이 소듐이라는 용어를 쓰며 영포티가 되시죠. 전 아직 영써티지만요.

### 소금?

하여간에 그래서 왜 소듐인가, `libsodium`이란 라이브러리의 탄생 배경에는 다니엘 번스타인이라는 분이 만든 NaCl(Networking and Cryptography Library)이 있습니다. 이름 상태가 엄청난데, 발음이 `salt`입니다. `소금`이라고 읽으세요. 여튼 그래서 이 소금에서 소듐만 딱 빼내서 경량화 시킨게 `libsodium`입니다. 근데 솔직하게 말하자면, 전 소금을 직접적으로 다뤄보지 않았어서 잘 모르겠습니다.

## 그래서 소듐은 왜..

### 얘가 또 알아서 랜덤 구현이..

좋은 편이죠. `uint32_t randombytes_random(void)`라는 함수로 랜덤 바이트 호출을 하게 됩니다. 그럼 산술적 랜덤이 아니라 안전한, 혹은 하드웨어에서 읽어서 랜덤을 만들어 줍니다. 왜냐면 내부적으로 아래와 같은 함수들을 사용하게 되거든요.

- 윈도우: `RtlGenRandom()` 함수를 사용합니다.
- OpenBSD 계열: `arc4random()` 함수를 사용합니다.
- 최신 FreeBSD와 Linux 커널: `getrandom` system call을 사용합니다.
- 다른 일반적인 케이스에선 `/dev/urandom` 장치를 사용합니다.

### 얘가 또 메모리 보안이..

좋더라구요. 만약 스크립트 언어로 개발하신다면, 꼭 그렇지 않더라도 Go나 러스트에서도 특히 도움이 될 수 있을 겁니다. 메모리에 대한 침해는 알게 모르게 발생하는 거지만요.