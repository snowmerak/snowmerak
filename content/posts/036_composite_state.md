---
title: "합성과 상태"
date: 2024-08-15T18:39:30+09:00
draft: true
---

~~N번째 프로젝트 구성 글~~

## 기본 구조

큰 구조는 아래 5개의 폴더를 기반으로 이루어집니다.

1. model: 주로 프로젝트 외부와 주고 받을 때 사용하는 메시지를 저장합니다. 필요하면 `protobuf`나 `flatbuf`, `json` 파일 등을 저장해서 gen 폴더에 `go` 코드를 생성하여 사용합니다.
2. core: 프로젝트 어디에나 쓰일 수 있는 기능입니다. 주로 로그같은 케이스가 이 곳에 포함됩니다.
3. lib: 프로젝트 내에서 단일 책임을 가지고, 특정 역할을 수행하는 라이브러리의 집합입니다.
4. pkg: 라이브러리들을 모아 일련의 파이프라인을 수행하는 합성 객체의 집합입니다.
5. internal: 합성 객체의 상태를 이용해서 더 상위의 파이프라인을 수행하는 상위 합성 객체의 집합입니다.
6. cmd: 합성 객체와 상위 합성 객체로 이루어진 실행 가능한 엔트리 포인트의 집합입니다.

### 계층과 포함

이 아키텍처는 기본적으로 레이어드 아키텍처를 표방하며, 상하위 레이어는 포함 관계로 정의합니다. 단, core와 model은 lib 내부 뿐만 아니라 어디든 들어갈 수 있습니다.

![01](/img/036/01.jpg)

